<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Profil - bantu.in</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      :root {
        --bg-body: #ffffff;
        --bg-alt: #f8f9fa;
        --text-main: #111111;
        --text-sub: #666666;
        --border-color: #e5e7eb;
        --primary: #000000;
        --accent-green: #22c55e;
        --max-w: 1280px;
        --radius-pill: 50px;
        --radius-card: 20px;
        --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        --shadow-sm: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        --shadow-md: 0 10px 30px -5px rgba(0, 0, 0, 0.08);
      }
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html {
        scroll-behavior: smooth;
      }
      body {
        margin: 0;
        font-family: "Inter", sans-serif;
        background: linear-gradient(180deg, #ffffff 0%, #f9fafb 100%);
        color: var(--text-main);
        -webkit-font-smoothing: antialiased;
        min-height: 100vh;
      }

      /* --- BUTTONS --- */
      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 12px 28px;
        border-radius: var(--radius-pill);
        font-weight: 600;
        font-size: 0.95rem;
        transition: var(--transition);
        border: none;
        cursor: pointer;
        text-decoration: none;
      }
      .btn-primary {
        background: var(--primary);
        color: white;
      }
      .btn-primary:hover {
        background: #333;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
      }
      .btn-outline {
        background: transparent;
        border: 2px solid var(--border-color);
        color: var(--primary);
      }
      .btn-outline:hover {
        border-color: var(--primary);
        background: var(--bg-alt);
      }
      .btn-green {
        background: var(--accent-green);
        color: white;
      }
      .btn-green:hover {
        background: #16a34a;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(34, 197, 94, 0.3);
      }
      .btn-danger {
        background: #ef4444;
        color: white;
      }
      .btn-danger:hover {
        background: #dc2626;
        transform: translateY(-2px);
      }
      .btn-sm {
        padding: 8px 20px;
        font-size: 0.9rem;
      }

      /* --- PROFILE WRAPPER --- */
      .profile-wrapper {
        padding: 40px 28px 80px 28px;
        min-height: 100vh;
      }
      .back-button {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        background: transparent;
        color: var(--text-sub);
        padding: 0;
        text-decoration: none;
        font-weight: 500;
        font-size: 0.95rem;
        transition: var(--transition);
        margin-bottom: 32px;
        border: none;
        cursor: pointer;
      }
      .back-button:hover {
        color: var(--primary);
        gap: 14px;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      /* --- PROFILE HEADER --- */
      .profile-header {
        background: linear-gradient(135deg, var(--primary) 0%, #333 100%);
        border-radius: var(--radius-card);
        padding: 40px;
        margin-bottom: 32px;
        box-shadow: var(--shadow-md);
        display: flex;
        align-items: center;
        gap: 32px;
      }
      .profile-avatar-section {
        text-align: center;
      }
      .avatar {
        width: 140px;
        height: 140px;
        border-radius: 50%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 40px;
        color: #fff;
        background: linear-gradient(135deg, #667eea, #764ba2);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        margin-bottom: 16px;
        border: 4px solid rgba(255, 255, 255, 0.2);
        overflow: hidden;
      }
      .avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
      }
      .upload-avatar-btn {
        background: rgba(255, 255, 255, 0.2);
        border: 2px solid rgba(255, 255, 255, 0.3);
        color: white;
        padding: 8px 16px;
        font-size: 0.85rem;
        backdrop-filter: blur(10px);
      }
      .upload-avatar-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        border-color: rgba(255, 255, 255, 0.5);
      }
      .profile-info {
        flex: 1;
        color: white;
      }
      .profile-name {
        font-size: 2rem;
        font-weight: 800;
        margin-bottom: 8px;
      }
      .profile-role-text {
        font-size: 1.1rem;
        opacity: 0.9;
        margin-bottom: 8px;
      }
      .profile-email {
        font-size: 0.95rem;
        opacity: 0.8;
        margin-bottom: 20px;
      }
      .role-badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 600;
        margin-bottom: 20px;
        animation: fadeInBadge 0.5s ease-in-out;
      }
      @keyframes fadeInBadge {
        from {
          opacity: 0;
          transform: scale(0.8);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }
      .role-badge-client {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }
      .role-badge-talent {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
      }
      .role-badge-admin {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        color: white;
      }
      .profile-actions {
        display: flex;
        gap: 12px;
      }

      /* --- STATS CARDS --- */
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 32px;
      }
      .stat-card {
        background: white;
        padding: 28px;
        border-radius: var(--radius-card);
        box-shadow: var(--shadow-md);
        border: 1px solid var(--border-color);
        transition: var(--transition);
      }
      .stat-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 16px 40px -5px rgba(0, 0, 0, 0.12);
      }
      .stat-icon {
        width: 56px;
        height: 56px;
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        margin-bottom: 16px;
      }
      .stat-icon.jobs {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }
      .stat-icon.talents {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
      }
      .stat-icon.pending {
        background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
        color: white;
      }
      .stat-label {
        font-size: 0.9rem;
        color: var(--text-sub);
        margin-bottom: 8px;
      }
      .stat-value {
        font-size: 2rem;
        font-weight: 800;
        color: var(--text-main);
      }

      /* --- CONTENT GRID --- */
      .content-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
        gap: 24px;
      }
      .panel {
        background: white;
        border-radius: var(--radius-card);
        padding: 32px;
        box-shadow: var(--shadow-md);
        border: 1px solid var(--border-color);
      }
      .panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 24px;
        padding-bottom: 16px;
        border-bottom: 2px solid var(--border-color);
      }
      .panel-title {
        font-size: 1.4rem;
        font-weight: 800;
        color: var(--text-main);
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .empty-state {
        text-align: center;
        padding: 60px 20px;
        color: var(--text-sub);
      }
      .empty-state i {
        font-size: 64px;
        opacity: 0.3;
        margin-bottom: 16px;
      }
      .empty-state p {
        font-size: 1rem;
        margin-bottom: 20px;
      }

      /* --- JOB/TALENT CARDS --- */
      .item-card {
        background: var(--bg-alt);
        padding: 20px;
        border-radius: 12px;
        margin-bottom: 12px;
        border: 2px solid transparent;
        transition: var(--transition);
      }
      .item-card:hover {
        border-color: var(--primary);
        background: white;
        box-shadow: var(--shadow-sm);
      }
      .item-header {
        display: flex;
        justify-content: space-between;
        align-items: start;
        margin-bottom: 12px;
      }
      .item-title {
        font-weight: 700;
        font-size: 1.1rem;
        color: var(--text-main);
        margin-bottom: 4px;
      }
      .item-meta {
        display: flex;
        gap: 16px;
        color: var(--text-sub);
        font-size: 0.9rem;
        flex-wrap: wrap;
      }
      .item-meta span {
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .item-actions {
        display: flex;
        gap: 8px;
      }
      .btn-icon {
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 8px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
        transition: var(--transition);
        color: var(--text-sub);
      }
      .btn-icon:hover {
        background: var(--bg-alt);
        color: var(--primary);
      }
      .btn-icon.delete:hover {
        background: #fee;
        color: #ef4444;
      }

      /* --- MODAL --- */
      .modal {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        padding: 20px;
      }
      .modal.active {
        display: flex;
      }
      .modal-backdrop {
        position: absolute;
        inset: 0;
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(4px);
      }
      .modal-content {
        position: relative;
        background: white;
        border-radius: var(--radius-card);
        padding: 32px;
        max-width: 600px;
        width: 100%;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        animation: modalSlideIn 0.3s ease-out;
      }
      @keyframes modalSlideIn {
        from {
          opacity: 0;
          transform: scale(0.95) translateY(20px);
        }
        to {
          opacity: 1;
          transform: scale(1) translateY(0);
        }
      }
      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 24px;
        padding-bottom: 16px;
        border-bottom: 2px solid var(--border-color);
      }
      .modal-title {
        font-size: 1.5rem;
        font-weight: 800;
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .close-modal {
        background: transparent;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: var(--text-sub);
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
        transition: var(--transition);
      }
      .close-modal:hover {
        background: var(--bg-alt);
        color: var(--primary);
      }

      /* --- FORM STYLES --- */
      .form-group {
        margin-bottom: 20px;
      }
      .form-label {
        display: block;
        font-weight: 600;
        margin-bottom: 8px;
        color: var(--text-main);
        font-size: 0.95rem;
      }
      .form-label .required {
        color: #ef4444;
      }
      .form-input,
      .form-textarea,
      .form-select {
        width: 100%;
        padding: 12px 16px;
        border: 2px solid var(--border-color);
        border-radius: 12px;
        font-family: "Inter", sans-serif;
        font-size: 0.95rem;
        transition: var(--transition);
      }
      .form-input:focus,
      .form-textarea:focus,
      .form-select:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.05);
      }
      .form-textarea {
        resize: vertical;
        min-height: 120px;
      }
      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
      }
      .form-actions {
        display: flex;
        gap: 12px;
        justify-content: flex-end;
        margin-top: 24px;
        padding-top: 24px;
        border-top: 2px solid var(--border-color);
      }

      /* --- TOAST --- */
      .toast {
        position: fixed;
        bottom: 24px;
        right: 24px;
        background: var(--primary);
        color: white;
        padding: 16px 24px;
        border-radius: 12px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        display: none;
        align-items: center;
        gap: 12px;
        z-index: 99999;
        animation: toastSlideIn 0.3s ease-out;
      }
      .toast.show {
        display: flex;
      }
      .toast.success {
        background: var(--accent-green);
      }
      .toast.error {
        background: #ef4444;
      }
      @keyframes toastSlideIn {
        from {
          opacity: 0;
          transform: translateX(100px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      /* --- RESPONSIVE --- */
      @media (max-width: 1024px) {
        .content-grid {
          grid-template-columns: 1fr;
        }
      }
      @media (max-width: 768px) {
        .profile-header {
          flex-direction: column;
          text-align: center;
          padding: 32px 24px;
        }
        .profile-actions {
          flex-direction: column;
          width: 100%;
        }
        .profile-actions .btn {
          width: 100%;
          justify-content: center;
        }
        .stats-grid {
          grid-template-columns: 1fr;
        }
        .content-grid {
          grid-template-columns: 1fr;
        }
        .form-row {
          grid-template-columns: 1fr;
        }
      }

      input[type="file"] {
        display: none;
      }
      .hidden {
        display: none !important;
      }
    </style>
      .job-card:hover,
      .talent-card:hover {
        border-color: var(--primary);
        box-shadow: var(--shadow-md);
      }
      .job-meta {
        color: var(--text-sub);
        font-size: 0.95rem;
      }
      .muted {
        color: var(--text-sub);
      }
      /* form styles */
      form label {
        display: block;
        font-size: 0.9rem;
        color: var(--muted);
        margin-bottom: 6px;
      }
      .form-row {
        display: flex;
        gap: 10px;
        align-items: flex-end;
      }
      .form-col {
        flex: 1;
      }
      input[type="text"],
      textarea,
      select {
        width: 100%;
        padding: 12px 16px;
        border-radius: 12px;
        border: 2px solid var(--border-color);
        box-shadow: none;
        font-size: 0.95rem;
        font-family: "Inter", sans-serif;
        transition: var(--transition);
      }
      input[type="text"]:focus,
      textarea:focus,
      select:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.05);
      }
      textarea {
        resize: vertical;
      }

      .form-actions {
        margin-top: 10px;
        display: flex;
        gap: 8px;
      }
      @media (max-width: 880px) {
        .profile-wrapper {
          padding: 40px 20px 60px 20px;
        }
        .profile-grid {
          grid-template-columns: 1fr;
        }
        .cards {
          grid-template-columns: 1fr;
        }
      }
      .fade {
        transition: all 220ms ease;
      }
      /* toast */
      .pi-toast {
        position: fixed;
        right: 18px;
        bottom: 18px;
        background: var(--primary);
        color: #fff;
        padding: 12px 18px;
        border-radius: 12px;
        box-shadow: var(--shadow-md);
        opacity: 0;
        transform: translateY(8px);
        transition: all 260ms ease;
        z-index: 9999;
        font-weight: 500;
      }
      .hidden {
        display: none !important;
      }
      input[type="file"] {
        display: none;
      }
    </style>
    <script src="assets/js/error-handler.js"></script>
    <script src="assets/js/loading-state.js"></script>
    <script src="assets/js/session-ui.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/mechanism.js" defer></script>
    <script src="assets/js/profile.js" defer></script>
    <script>
      // Redirect admin to admin dashboard
      (function () {
        const profile = JSON.parse(localStorage.getItem("rpl_profile") || "{}");
        const role = (profile.role || "").toLowerCase();
        if (role === "admin") {
          window.location.href = "admin.html";
        }
      })();
    </script>
  </head>
  <body>
    <div class="profile-wrapper">
      <div class="container">
        <a href="beranda.html" class="back-button">
          <i class="fas fa-arrow-left"></i>
          <span>Kembali ke Beranda</span>
        </a>

        <!-- PROFILE HEADER -->
        <div class="profile-header">
          <div class="profile-avatar-section">
            <div id="avatarRoot" class="avatar">AB</div>
            <label for="avatarInput" class="btn upload-avatar-btn btn-sm">
              <i class="fas fa-camera"></i> Upload Foto
            </label>
            <input id="avatarInput" type="file" accept="image/*" />
          </div>

          <div class="profile-info">
            <h1 class="profile-name" id="nameVal">Loading...</h1>
            <div id="roleBadgeContainer"></div>
            <p class="profile-role-text" id="roleVal">-</p>
            <p class="profile-email" id="emailVal">-</p>

            <div class="profile-actions">
              <button id="editProfileBtn" class="btn btn-outline">
                <i class="fas fa-edit"></i> Edit Profil
              </button>
              <button id="logoutBtn" class="btn btn-danger" onclick="handleLogout()">
                <i class="fas fa-sign-out-alt"></i> Keluar
              </button>
            </div>
          </div>
        </div>

        <!-- STATS GRID -->
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon jobs">
              <i class="fas fa-briefcase"></i>
            </div>
            <div class="stat-label">Total Pekerjaan</div>
            <div class="stat-value" id="jobsCount">0</div>
          </div>

          <div class="stat-card">
            <div class="stat-icon talents">
              <i class="fas fa-users"></i>
            </div>
            <div class="stat-label">Total Talent</div>
            <div class="stat-value" id="talentsCount">0</div>
          </div>

          <div class="stat-card" id="pendingCard" style="display: none;">
            <div class="stat-icon pending">
              <i class="fas fa-clock"></i>
            </div>
            <div class="stat-label">Pekerjaan Pending</div>
            <div class="stat-value" id="pendingCount">0</div>
          </div>
        </div>

        <!-- CONTENT GRID -->
        <div class="content-grid">
          <!-- DAFTAR PEKERJAAN (Client Only) -->
          <div id="jobsPanel" class="panel" style="display: none;">
            <div class="panel-header">
              <h2 class="panel-title">
                <i class="fas fa-briefcase"></i> Pekerjaan Saya
              </h2>
              <button id="addJobBtn" class="btn btn-primary" onclick="openJobModal()">
                <i class="fas fa-plus"></i> Buat Pekerjaan
              </button>
            </div>
            <div id="jobsList">
              <div class="empty-state">
                <i class="fas fa-briefcase"></i>
                <p>Belum ada pekerjaan</p>
                <button class="btn btn-primary btn-sm" onclick="openJobModal()">
                  <i class="fas fa-plus"></i> Buat Pekerjaan Pertama
                </button>
              </div>
            </div>
          </div>

          <!-- DAFTAR TALENT -->
          <div id="talentsPanel" class="panel">
            <div class="panel-header">
              <h2 class="panel-title">
                <i class="fas fa-users"></i> Talent Saya
              </h2>
              <button id="addTalentBtn" class="btn btn-outline" onclick="openTalentModal()">
                <i class="fas fa-plus"></i> Tambah Talent
              </button>
            </div>
            <div id="talentsList">
              <div class="empty-state">
                <i class="fas fa-users"></i>
                <p>Belum ada talent</p>
                <button class="btn btn-outline btn-sm" onclick="openTalentModal()">
                  <i class="fas fa-plus"></i> Tambah Talent Pertama
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL: BUAT PEKERJAAN (CLIENT ONLY) -->
    <div id="jobModal" class="modal">
      <div class="modal-backdrop" onclick="closeJobModal()"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title">
            <i class="fas fa-briefcase"></i> Buat Pekerjaan Baru
          </h3>
          <button class="close-modal" onclick="closeJobModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <form id="jobForm" onsubmit="handleJobSubmit(event)">
          <div class="form-group">
            <label class="form-label">
              Judul Pekerjaan <span class="required">*</span>
            </label>
            <input
              id="jobTitle"
              type="text"
              class="form-input"
              placeholder="Contoh: Desain Logo untuk Startup"
              required
            />
          </div>

          <div class="form-group">
            <label class="form-label">
              Deskripsi Pekerjaan <span class="required">*</span>
            </label>
            <textarea
              id="jobDescription"
              class="form-textarea"
              placeholder="Jelaskan detail pekerjaan, requirement, dan ekspektasi hasil..."
              required
            ></textarea>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label class="form-label">
                Budget <span class="required">*</span>
              </label>
              <input
                id="jobBudget"
                type="text"
                class="form-input"
                placeholder="Rp 500.000 - Rp 1.000.000"
                required
              />
            </div>

            <div class="form-group">
              <label class="form-label">Deadline</label>
              <input
                id="jobDeadline"
                type="date"
                class="form-input"
              />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label class="form-label">
                Kategori <span class="required">*</span>
              </label>
              <select id="jobCategory" class="form-select" required>
                <option value="">-- Pilih Kategori --</option>
                <option value="Design & Creative">Design & Creative</option>
                <option value="Programming & Tech">Programming & Tech</option>
                <option value="Writing & Translation">Writing & Translation</option>
                <option value="Marketing & Sales">Marketing & Sales</option>
                <option value="Business & Consulting">Business & Consulting</option>
                <option value="Video & Animation">Video & Animation</option>
                <option value="Music & Audio">Music & Audio</option>
                <option value="Data Entry">Data Entry</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label">
                Level <span class="required">*</span>
              </label>
              <select id="jobLevel" class="form-select" required>
                <option value="">-- Pilih Level --</option>
                <option value="Entry Level">Entry Level</option>
                <option value="Intermediate">Intermediate</option>
                <option value="Expert">Expert</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Lokasi</label>
            <input
              id="jobLocation"
              type="text"
              class="form-input"
              placeholder="Jakarta, Indonesia atau Remote"
            />
          </div>

          <div class="form-group">
            <label class="form-label">
              Tipe Pekerjaan <span class="required">*</span>
            </label>
            <select id="jobType" class="form-select" required>
              <option value="">-- Pilih Tipe --</option>
              <option value="Full Time">Full Time</option>
              <option value="Part Time">Part Time</option>
              <option value="Freelance">Freelance</option>
              <option value="Contract">Contract</option>
              <option value="Internship">Internship</option>
            </select>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-outline" onclick="closeJobModal()">
              <i class="fas fa-times"></i> Batal
            </button>
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-check"></i> Buat Pekerjaan
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- MODAL: EDIT PROFILE -->
    <div id="editModal" class="modal">
      <div class="modal-backdrop" onclick="closeEditModal()"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title">
            <i class="fas fa-edit"></i> Edit Profil
          </h3>
          <button class="close-modal" onclick="closeEditModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <form id="editProfileForm" onsubmit="handleEditProfile(event)">
          <div class="form-group">
            <label class="form-label">Nama Lengkap</label>
            <input id="editName" type="text" class="form-input" placeholder="Nama lengkap" />
          </div>

          <div class="form-group">
            <label class="form-label">Email</label>
            <input id="editEmail" type="email" class="form-input" placeholder="Email" disabled />
          </div>

          <div class="form-group">
            <label class="form-label">Peran</label>
            <select id="editRole" class="form-select">
              <option value="client">Client</option>
              <option value="talent">Talent</option>
            </select>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-outline" onclick="closeEditModal()">
              Batal
            </button>
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-save"></i> Simpan
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- MODAL: TAMBAH TALENT -->
    <div id="talentModal" class="modal">
      <div class="modal-backdrop" onclick="closeTalentModal()"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title">
            <i class="fas fa-user-plus"></i> Tambah Talent
          </h3>
          <button class="close-modal" onclick="closeTalentModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <form id="talentForm" onsubmit="handleTalentSubmit(event)">
          <div class="form-group">
            <label class="form-label">
              Nama / Keahlian <span class="required">*</span>
            </label>
            <input
              id="talentName"
              type="text"
              class="form-input"
              placeholder="Contoh: React Developer"
              required
            />
          </div>

          <div class="form-group">
            <label class="form-label">
              Deskripsi <span class="required">*</span>
            </label>
            <textarea
              id="talentDesc"
              class="form-textarea"
              placeholder="Jelaskan skill dan pengalaman..."
              required
            ></textarea>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-outline" onclick="closeTalentModal()">
              <i class="fas fa-times"></i> Batal
            </button>
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-check"></i> Simpan Talent
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- TOAST NOTIFICATION -->
    <div id="toast" class="toast">
      <i class="fas fa-check-circle"></i>
      <span id="toastMessage">Success!</span>
    </div>

    <script>
      // Global Functions
      function handleLogout() {
        localStorage.removeItem("bantuin_session");
        localStorage.removeItem("rpl_currentRole");
        localStorage.removeItem("rpl_profile");
        
        if (window.RPLAuth && typeof window.RPLAuth.logout === "function") {
          window.RPLAuth.logout();
        }
        
        showToast("Berhasil keluar dari akun", "success");
        setTimeout(() => {
          window.location.href = "beranda.html";
        }, 1000);
      }

      function openJobModal() {
        const role = localStorage.getItem("rpl_currentRole");
        
        if (role !== "client") {
          showToast("⚠️ Hanya Client yang dapat membuat pekerjaan!", "error");
          return;
        }
        
        document.getElementById("jobModal").classList.add("active");
        document.body.style.overflow = "hidden";
      }

      function closeJobModal() {
        document.getElementById("jobModal").classList.remove("active");
        document.body.style.overflow = "";
        document.getElementById("jobForm").reset();
      }

      function closeEditModal() {
        document.getElementById("editModal").classList.remove("active");
        document.body.style.overflow = "";
      }

      function openTalentModal() {
        document.getElementById("talentModal").classList.add("active");
        document.body.style.overflow = "hidden";
      }

      function closeTalentModal() {
        document.getElementById("talentModal").classList.remove("active");
        document.body.style.overflow = "";
        document.getElementById("talentForm").reset();
      }

      function handleJobSubmit(event) {
        event.preventDefault();

        const profile = JSON.parse(localStorage.getItem("rpl_profile") || "{}");
        const role = localStorage.getItem("rpl_currentRole");

        if (role !== "client") {
          showToast("❌ Hanya Client yang dapat menambahkan pekerjaan!", "error");
          return;
        }

        const jobObj = {
          id: Date.now(),
          title: document.getElementById("jobTitle").value.trim(),
          description: document.getElementById("jobDescription").value.trim(),
          budget: document.getElementById("jobBudget").value.trim(),
          deadline: document.getElementById("jobDeadline").value || null,
          category: document.getElementById("jobCategory").value,
          level: document.getElementById("jobLevel").value,
          location: document.getElementById("jobLocation").value.trim() || "Indonesia",
          type: document.getElementById("jobType").value,
          status: "open",
          owner: profile.name || "Anonymous",
          ownerEmail: profile.email || "unknown@email.com",
          tags: [document.getElementById("jobCategory").value, document.getElementById("jobLevel").value, document.getElementById("jobType").value],
          createdAt: new Date().toISOString(),
        };

        try {
          // Save to storages
          const globalJobs = JSON.parse(localStorage.getItem("bantuin_tasks") || "[]");
          globalJobs.unshift(jobObj);
          localStorage.setItem("bantuin_tasks", JSON.stringify(globalJobs));

          const userKey = "bantuin_user_tasks_" + profile.email;
          const userJobs = JSON.parse(localStorage.getItem(userKey) || "[]");
          userJobs.unshift(jobObj);
          localStorage.setItem(userKey, JSON.stringify(userJobs));

          const adminJobs = JSON.parse(localStorage.getItem("bantuin_admin_jobs") || "[]");
          adminJobs.unshift({
            ...jobObj,
            submittedAt: new Date().toISOString(),
            submittedBy: profile.name,
            submitterEmail: profile.email,
            submitterRole: role,
            reviewStatus: "pending",
          });
          localStorage.setItem("bantuin_admin_jobs", JSON.stringify(adminJobs));

          console.log("✅ Job created:", jobObj);

          showToast("✅ Pekerjaan berhasil dibuat!", "success");
          closeJobModal();

          setTimeout(() => {
            window.location.reload();
          }, 1500);
        } catch (error) {
          console.error("Error:", error);
          showToast("❌ Gagal membuat pekerjaan", "error");
        }
      }

      function handleTalentSubmit(event) {
        event.preventDefault();

        const session = JSON.parse(localStorage.getItem("bantuin_session") || "{}");
        const profile = JSON.parse(localStorage.getItem("rpl_profile") || "{}");

        const talentObj = {
          id: Date.now(),
          name: document.getElementById("talentName").value.trim(),
          description: document.getElementById("talentDesc").value.trim(),
          ownerName: profile.name || session.user || "User",
          ownerEmail: profile.email || session.email || "unknown@email.com",
          category: "General",
          level: "Intermediate",
          availability: "available",
          createdAt: new Date().toISOString(),
        };

        try {
          const allTalents = JSON.parse(localStorage.getItem("bantuin_talents") || "[]");
          allTalents.unshift(talentObj);
          localStorage.setItem("bantuin_talents", JSON.stringify(allTalents));

          const userKey = "bantuin_user_talents_" + talentObj.ownerEmail;
          const userTalents = JSON.parse(localStorage.getItem(userKey) || "[]");
          userTalents.unshift(talentObj);
          localStorage.setItem(userKey, JSON.stringify(userTalents));

          showToast("✅ Talent berhasil ditambahkan!", "success");
          closeTalentModal();

          setTimeout(() => {
            window.location.reload();
          }, 1500);
        } catch (error) {
          console.error("Error:", error);
          showToast("❌ Gagal menambahkan talent", "error");
        }
      }

      function handleEditProfile(event) {
        event.preventDefault();
        
        const profile = JSON.parse(localStorage.getItem("rpl_profile") || "{}");
        profile.name = document.getElementById("editName").value.trim();
        profile.role = document.getElementById("editRole").value;
        
        localStorage.setItem("rpl_profile", JSON.stringify(profile));
        localStorage.setItem("rpl_currentRole", profile.role);
        
        showToast("✅ Profil berhasil diperbarui!", "success");
        closeEditModal();
        
        setTimeout(() => {
          window.location.reload();
        }, 1500);
      }

      function showToast(message, type = "success") {
        const toast = document.getElementById("toast");
        const toastMessage = document.getElementById("toastMessage");
        
        toastMessage.textContent = message;
        toast.className = "toast show " + type;
        
        setTimeout(() => {
          toast.classList.remove("show");
        }, 3000);
      }

      // Event Listeners
      document.getElementById("editProfileBtn")?.addEventListener("click", () => {
        const profile = JSON.parse(localStorage.getItem("rpl_profile") || "{}");
        document.getElementById("editName").value = profile.name || "";
        document.getElementById("editEmail").value = profile.email || "";
        document.getElementById("editRole").value = profile.role || "client";
        
        document.getElementById("editModal").classList.add("active");
        document.body.style.overflow = "hidden";
      });

      // Close modals on ESC
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          closeJobModal();
          closeEditModal();
          closeTalentModal();
        }
      });
    </script>
  </body>
</html>
          <span>Kembali ke Beranda</span>
        </a>
        <main role="main" class="profile-grid">
          <aside class="panel profile-card">
            <div id="avatarRoot" class="avatar">AB</div>
            <div style="margin-top: 8px">
              <div class="name" id="nameVal">-</div>
              <div id="roleBadgeContainer"></div>
              <div class="role" id="roleVal">-</div>
              <div class="small" id="emailVal">-</div>
            </div>

            <div class="actions">
              <label
                for="avatarInput"
                class="btn btn-outline"
                style="
                  display: inline-flex;
                  align-items: center;
                  gap: 8px;
                  cursor: pointer;
                "
                >Upload Avatar
                <input id="avatarInput" type="file" accept="image/*" />
              </label>
              <button id="editProfileBtn" class="btn btn-primary">
                Edit Profil
              </button>
            </div>

            <button
              id="logoutBtn"
              class="btn btn-outline"
              style="margin-top: 16px; width: 100%"
              onclick="handleLogout()"
            >
              <i class="fas fa-sign-out-alt"></i> Keluar dari Akun
            </button>

            <script>
              function handleLogout() {
                // Clear all session data
                localStorage.removeItem("bantuin_session");
                localStorage.removeItem("rpl_currentRole");
                localStorage.removeItem("rpl_profile");

                // Call RPLAuth logout if available
                if (
                  window.RPLAuth &&
                  typeof window.RPLAuth.logout === "function"
                ) {
                  window.RPLAuth.logout();
                }

                // Show message and redirect
                alert("Berhasil keluar dari akun");
                window.location.href = "beranda.html";
              }

              function toggleJobFormTalent() {
                console.log("toggleJobFormTalent called");
                const formContainer = document.getElementById(
                  "jobFormContainerTalent"
                );
                const btn = document.getElementById("toggleJobFormTalentBtn");
                console.log("Form container (Talent):", formContainer);
                console.log("Button (Talent):", btn);

                if (!formContainer || !btn) {
                  console.error("Form elements not found!");
                  alert(
                    "Error: Form elements not found. Please refresh the page."
                  );
                  return;
                }

                const isHidden =
                  formContainer.style.display === "none" ||
                  window.getComputedStyle(formContainer).display === "none";

                console.log("Current state (Talent) - isHidden:", isHidden);

                if (isHidden) {
                  formContainer.style.display = "block";
                  btn.innerHTML = '<i class="fas fa-minus"></i> Tutup Form';
                  console.log("Form shown (Talent)");
                } else {
                  formContainer.style.display = "none";
                  btn.innerHTML = '<i class="fas fa-plus"></i> Tambah Kerjaan';
                  console.log("Form hidden (Talent)");
                }
              }

              function handleJobSubmitTalent(event) {
                event.preventDefault();
                console.log("handleJobSubmitTalent called");

                const currentUser = JSON.parse(
                  localStorage.getItem("bantuin_user") || "{}"
                );
                const userEmail = currentUser.email || "unknown@email.com";
                const userName = currentUser.name || "Talent User";

                const title = document.getElementById("jobTitleTalent").value;
                const description = document.getElementById(
                  "jobDescriptionTalent"
                ).value;
                const budget = document.getElementById("jobBudgetTalent").value;
                const deadline =
                  document.getElementById("jobDeadlineTalent").value;
                const category =
                  document.getElementById("jobCategoryTalent").value;
                const level = document.getElementById("jobLevelTalent").value;
                const location =
                  document.getElementById("jobLocationTalent").value;
                const type = document.getElementById("jobTypeTalent").value;

                const newJob = {
                  id: "job_" + Date.now(),
                  title: title,
                  description: description,
                  budget: "Rp " + parseInt(budget).toLocaleString("id-ID"),
                  deadline: deadline,
                  category: category,
                  level: level,
                  location: location,
                  type: type,
                  postedBy: userName,
                  postedByEmail: userEmail,
                  postedDate: new Date().toISOString(),
                  status: "open",
                  userRole: "talent",
                };

                console.log("New job (Talent):", newJob);

                let globalTasks = JSON.parse(
                  localStorage.getItem("bantuin_tasks") || "[]"
                );
                globalTasks.unshift(newJob);
                localStorage.setItem(
                  "bantuin_tasks",
                  JSON.stringify(globalTasks)
                );
                console.log(
                  "✅ Saved to bantuin_tasks. Total:",
                  globalTasks.length
                );

                const userTasksKey = "bantuin_user_tasks_" + userEmail;
                let userTasks = JSON.parse(
                  localStorage.getItem(userTasksKey) || "[]"
                );
                userTasks.unshift(newJob);
                localStorage.setItem(userTasksKey, JSON.stringify(userTasks));
                console.log(
                  "✅ Saved to " + userTasksKey + ". Total:",
                  userTasks.length
                );

                let adminJobs = JSON.parse(
                  localStorage.getItem("bantuin_admin_jobs") || "[]"
                );
                adminJobs.unshift(newJob);
                localStorage.setItem(
                  "bantuin_admin_jobs",
                  JSON.stringify(adminJobs)
                );
                console.log(
                  "✅ Saved to bantuin_admin_jobs. Total:",
                  adminJobs.length
                );

                alert(
                  "✅ Pekerjaan berhasil dibuat!\n\nPekerjaan Anda akan ditampilkan di halaman Cari Pekerjaan."
                );

                document.getElementById("jobFormTalent").reset();
                toggleJobFormTalent();
                window.dispatchEvent(new Event("storage"));

                console.log("✅ Job submission completed (Talent)");
              }

              function toggleJobForm() {
                console.log("toggleJobForm called");

                const formContainer =
                  document.getElementById("jobFormContainer");
                const btn = document.getElementById("toggleJobFormBtn");

                console.log("Form container:", formContainer);
                console.log("Button:", btn);

                if (!formContainer || !btn) {
                  console.error("Form elements not found!");
                  alert(
                    "Error: Form elements not found. Please refresh the page."
                  );
                  return;
                }

                const isHidden =
                  formContainer.style.display === "none" ||
                  window.getComputedStyle(formContainer).display === "none";

                console.log("Is hidden:", isHidden);

                if (isHidden) {
                  formContainer.style.display = "block";
                  btn.innerHTML = '<i class="fas fa-times"></i> Tutup Form';
                  btn.classList.remove("btn-primary");
                  btn.classList.add("btn-outline");
                  console.log("Form opened");
                  // Scroll to form
                  setTimeout(() => {
                    formContainer.scrollIntoView({
                      behavior: "smooth",
                      block: "nearest",
                    });
                  }, 100);
                } else {
                  formContainer.style.display = "none";
                  btn.innerHTML =
                    '<i class="fas fa-plus"></i> Tambah Pekerjaan Baru';
                  btn.classList.remove("btn-outline");
                  btn.classList.add("btn-primary");
                  console.log("Form closed");
                  // Reset form
                  const jobForm = document.getElementById("jobForm");
                  if (jobForm) jobForm.reset();
                }
              }

              function handleJobSubmit(event) {
                event.preventDefault();

                // Get profile
                const profile = JSON.parse(
                  localStorage.getItem("rpl_profile") || "{}"
                );
                const currentRole =
                  localStorage.getItem("rpl_currentRole") ||
                  profile.role ||
                  "client";

                // Check if user is client
                if (currentRole !== "client") {
                  alert("❌ Hanya Client yang dapat menambahkan pekerjaan!");
                  return;
                }

                // Get form values
                const title = document.getElementById("jobTitle").value.trim();
                const description = document
                  .getElementById("jobDescription")
                  .value.trim();
                const budget = document
                  .getElementById("jobBudget")
                  .value.trim();
                const deadline = document.getElementById("jobDeadline").value;
                const category = document.getElementById("jobCategory").value;
                const level = document.getElementById("jobLevel").value;
                const location =
                  document.getElementById("jobLocation").value.trim() ||
                  "Indonesia";
                const type = document.getElementById("jobType").value;

                // Validate
                if (
                  !title ||
                  !description ||
                  !budget ||
                  !category ||
                  !level ||
                  !type
                ) {
                  alert("⚠️ Mohon lengkapi semua field yang wajib diisi!");
                  return;
                }

                // Create job object
                const jobObj = {
                  id: Date.now(),
                  title: title,
                  description: description,
                  budget: budget,
                  type: type,
                  level: level,
                  category: category,
                  location: location,
                  deadline: deadline || null,
                  status: "open",
                  owner: profile.name || "Anonymous",
                  ownerEmail: profile.email || "unknown@email.com",
                  contactEmail: profile.email || "unknown@email.com",
                  clientVerified: false,
                  clientRating: 0,
                  clientSpent: "Rp 0",
                  tags: [category, level, type],
                  createdAt: new Date().toISOString(),
                };

                try {
                  // Save to global storage
                  const globalJobs = JSON.parse(
                    localStorage.getItem("bantuin_tasks") || "[]"
                  );
                  globalJobs.unshift(jobObj);
                  localStorage.setItem(
                    "bantuin_tasks",
                    JSON.stringify(globalJobs)
                  );

                  // Save to user-specific storage
                  const userKey = "bantuin_user_tasks_" + profile.email;
                  const userJobs = JSON.parse(
                    localStorage.getItem(userKey) || "[]"
                  );
                  userJobs.unshift(jobObj);
                  localStorage.setItem(userKey, JSON.stringify(userJobs));

                  // Save to admin storage
                  const adminJobs = JSON.parse(
                    localStorage.getItem("bantuin_admin_jobs") || "[]"
                  );
                  const adminJobEntry = Object.assign({}, jobObj, {
                    submittedAt: new Date().toISOString(),
                    submittedBy: profile.name,
                    submitterEmail: profile.email,
                    submitterRole: currentRole,
                    reviewStatus: "pending",
                    reviewedAt: null,
                    reviewedBy: null,
                  });
                  adminJobs.unshift(adminJobEntry);
                  localStorage.setItem(
                    "bantuin_admin_jobs",
                    JSON.stringify(adminJobs)
                  );

                  console.log("✅ Job posted successfully:", jobObj);

                  // Show success message
                  alert(
                    '✅ Pekerjaan berhasil ditambahkan!\n\nPekerjaan Anda sekarang dapat dilihat di halaman "Cari Pekerjaan".'
                  );

                  // Reset and close form
                  document.getElementById("jobForm").reset();
                  toggleJobForm();

                  // Reload jobs list
                  if (window.location.reload) {
                    setTimeout(() => window.location.reload(), 1000);
                  }
                } catch (error) {
                  console.error("Error saving job:", error);
                  alert("❌ Gagal menyimpan pekerjaan: " + error.message);
                }
              }
            </script>

            <div
              style="
                margin-top: 14px;
                color: var(--text-sub);
                font-size: 0.9rem;
              "
            >
              Tip: Klik "Edit Profil" untuk mengubah nama dan peran. Avatar
              disimpan di local profile.
            </div>
          </aside>

          <section>
            <div class="panel">
              <div class="section-title">
                <h2 style="margin: 0; font-size: 1.5rem; font-weight: 800">
                  Ringkasan
                </h2>
                <div>
                  <button id="addJobBtn" class="btn btn-primary">
                    Tambah Pekerjaan
                  </button>
                  <button id="addTalentBtn" class="btn btn-outline">
                    Tambah Talent
                  </button>
                </div>
              </div>

              <div id="profileBlock" style="color: var(--text-sub)">
                Memuat profil...
              </div>

              <div
                style="
                  margin-top: 12px;
                  display: grid;
                  grid-template-columns: 1fr 1fr;
                  gap: 12px;
                "
              >
                <div class="card-small">
                  <strong style="font-size: 1rem; color: var(--text-main)"
                    >Jumlah Pekerjaan</strong
                  >
                  <div
                    id="jobsCount"
                    style="
                      color: var(--text-sub);
                      margin-top: 6px;
                      font-size: 1.3rem;
                      font-weight: 700;
                    "
                  >
                    0
                  </div>
                </div>
                <div class="card-small">
                  <strong style="font-size: 1rem; color: var(--text-main)"
                    >Jumlah Talent</strong
                  >
                  <div
                    id="talentsCount"
                    style="
                      color: var(--text-sub);
                      margin-top: 6px;
                      font-size: 1.3rem;
                      font-weight: 700;
                    "
                  >
                    0
                  </div>
                </div>
              </div>

              <div style="margin-top: 18px">
                <h3
                  style="
                    margin: 0 0 12px 0;
                    font-size: 1.2rem;
                    font-weight: 700;
                  "
                >
                  Daftar Pekerjaan
                </h3>
                <div id="jobsList" class="list"></div>
                <form id="jobForm" style="margin-top: 8px">
                  <div class="form-row">
                    <div class="form-col">
                      <label for="jobTitle">Judul</label>
                      <input
                        id="jobTitle"
                        type="text"
                        placeholder="Judul pekerjaan"
                      />
                    </div>
                    <div class="form-col">
                      <label for="jobCompany">Perusahaan</label>
                      <input
                        id="jobCompany"
                        type="text"
                        placeholder="Perusahaan"
                      />
                    </div>
                  </div>
                  <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Simpan</button
                    ><button
                      id="cancelJob"
                      type="button"
                      class="btn btn-outline"
                    >
                      Batal
                    </button>
                  </div>
                </form>
              </div>

              <!-- Upload Tugas Section for Client -->
              <div
                id="uploadTaskSection"
                style="margin-top: 18px; display: none"
              >
                <h3
                  style="
                    margin: 0 0 12px 0;
                    font-size: 1.2rem;
                    font-weight: 700;
                  "
                >
                  Posting Pekerjaan
                </h3>
                <p
                  style="
                    color: var(--text-sub);
                    font-size: 0.9rem;
                    margin-bottom: 12px;
                  "
                >
                  Posting tugas Anda dan tugas akan tampil di halaman
                  <strong>Cari Pekerjaan</strong> untuk dilihat oleh talent
                </p>
                <div id="tasksList" class="list"></div>

                <button
                  id="toggleJobFormBtn"
                  class="btn btn-primary"
                  style="
                    margin-top: 12px;
                    display: inline-flex;
                    align-items: center;
                    gap: 8px;
                  "
                  onclick="toggleJobForm()"
                >
                  <i class="fas fa-plus"></i> Tambah Pekerjaan Baru
                </button>

                <!-- Form Tambah Pekerjaan (Hidden by default) -->
                <div
                  id="jobFormContainer"
                  style="
                    display: none;
                    margin-top: 16px;
                    padding: 20px;
                    background: #f8f9fa;
                    border-radius: 12px;
                    border: 2px solid #e5e7eb;
                  "
                >
                  <h4
                    style="
                      margin: 0 0 16px 0;
                      font-size: 1.1rem;
                      font-weight: 700;
                      color: #667eea;
                    "
                  >
                    <i class="fas fa-briefcase"></i> Form Tambah Pekerjaan
                  </h4>
                  <form id="jobForm" onsubmit="handleJobSubmit(event)">
                    <label
                      for="jobTitle"
                      style="
                        font-weight: 600;
                        margin-bottom: 4px;
                        display: block;
                      "
                      >Judul Pekerjaan <span style="color: red">*</span></label
                    >
                    <input
                      id="jobTitle"
                      type="text"
                      placeholder="Contoh: Desain Logo Perusahaan"
                      required
                      style="
                        width: 100%;
                        padding: 10px;
                        border: 1px solid #e5e7eb;
                        border-radius: 8px;
                        margin-bottom: 12px;
                      "
                    />

                    <label
                      for="jobDescription"
                      style="
                        font-weight: 600;
                        margin-bottom: 4px;
                        display: block;
                      "
                      >Deskripsi Pekerjaan
                      <span style="color: red">*</span></label
                    >
                    <textarea
                      id="jobDescription"
                      rows="4"
                      placeholder="Jelaskan detail pekerjaan, requirement, dan ekspektasi hasil..."
                      required
                      style="
                        width: 100%;
                        padding: 10px;
                        border: 1px solid #e5e7eb;
                        border-radius: 8px;
                        margin-bottom: 12px;
                        resize: vertical;
                      "
                    ></textarea>

                    <div
                      style="
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        gap: 12px;
                        margin-bottom: 12px;
                      "
                    >
                      <div>
                        <label
                          for="jobBudget"
                          style="
                            font-weight: 600;
                            margin-bottom: 4px;
                            display: block;
                          "
                          >Budget <span style="color: red">*</span></label
                        >
                        <input
                          id="jobBudget"
                          type="text"
                          placeholder="Rp 500.000 - Rp 1.000.000"
                          required
                          style="
                            width: 100%;
                            padding: 10px;
                            border: 1px solid #e5e7eb;
                            border-radius: 8px;
                          "
                        />
                      </div>
                      <div>
                        <label
                          for="jobDeadline"
                          style="
                            font-weight: 600;
                            margin-bottom: 4px;
                            display: block;
                          "
                          >Deadline</label
                        >
                        <input
                          id="jobDeadline"
                          type="date"
                          style="
                            width: 100%;
                            padding: 10px;
                            border: 1px solid #e5e7eb;
                            border-radius: 8px;
                          "
                        />
                      </div>
                    </div>

                    <div
                      style="
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        gap: 12px;
                        margin-bottom: 12px;
                      "
                    >
                      <div>
                        <label
                          for="jobCategory"
                          style="
                            font-weight: 600;
                            margin-bottom: 4px;
                            display: block;
                          "
                          >Kategori <span style="color: red">*</span></label
                        >
                        <select
                          id="jobCategory"
                          required
                          style="
                            width: 100%;
                            padding: 10px;
                            border: 1px solid #e5e7eb;
                            border-radius: 8px;
                          "
                        >
                          <option value="">-- Pilih Kategori --</option>
                          <option value="Design & Creative">
                            Design & Creative
                          </option>
                          <option value="Programming & Tech">
                            Programming & Tech
                          </option>
                          <option value="Writing & Translation">
                            Writing & Translation
                          </option>
                          <option value="Marketing & Sales">
                            Marketing & Sales
                          </option>
                          <option value="Business & Consulting">
                            Business & Consulting
                          </option>
                          <option value="Video & Animation">
                            Video & Animation
                          </option>
                          <option value="Music & Audio">Music & Audio</option>
                          <option value="Data Entry">Data Entry</option>
                        </select>
                      </div>
                      <div>
                        <label
                          for="jobLevel"
                          style="
                            font-weight: 600;
                            margin-bottom: 4px;
                            display: block;
                          "
                          >Level <span style="color: red">*</span></label
                        >
                        <select
                          id="jobLevel"
                          required
                          style="
                            width: 100%;
                            padding: 10px;
                            border: 1px solid #e5e7eb;
                            border-radius: 8px;
                          "
                        >
                          <option value="">-- Pilih Level --</option>
                          <option value="Entry Level">Entry Level</option>
                          <option value="Intermediate">Intermediate</option>
                          <option value="Expert">Expert</option>
                        </select>
                      </div>
                    </div>

                    <label
                      for="jobLocation"
                      style="
                        font-weight: 600;
                        margin-bottom: 4px;
                        display: block;
                      "
                      >Lokasi</label
                    >
                    <input
                      id="jobLocation"
                      type="text"
                      placeholder="Contoh: Jakarta, Indonesia atau Remote"
                      style="
                        width: 100%;
                        padding: 10px;
                        border: 1px solid #e5e7eb;
                        border-radius: 8px;
                        margin-bottom: 12px;
                      "
                    />

                    <label
                      for="jobType"
                      style="
                        font-weight: 600;
                        margin-bottom: 4px;
                        display: block;
                      "
                      >Tipe Pekerjaan <span style="color: red">*</span></label
                    >
                    <select
                      id="jobType"
                      required
                      style="
                        width: 100%;
                        padding: 10px;
                        border: 1px solid #e5e7eb;
                        border-radius: 8px;
                        margin-bottom: 16px;
                      "
                    >
                      <option value="">-- Pilih Tipe --</option>
                      <option value="Full Time">Full Time</option>
                      <option value="Part Time">Part Time</option>
                      <option value="Freelance">Freelance</option>
                      <option value="Contract">Contract</option>
                      <option value="Internship">Internship</option>
                    </select>

                    <div
                      style="display: flex; gap: 8px; justify-content: flex-end"
                    >
                      <button
                        type="button"
                        class="btn btn-outline"
                        onclick="toggleJobForm()"
                        style="padding: 10px 20px"
                      >
                        <i class="fas fa-times"></i> Batal
                      </button>
                      <button
                        type="submit"
                        class="btn btn-primary"
                        style="padding: 10px 20px"
                      >
                        <i class="fas fa-check"></i> Simpan Pekerjaan
                      </button>
                    </div>
                  </form>
                </div>
              </div>

              <!-- Tambah Kerjaan Section for Talent -->
              <div
                id="addJobTalentSection"
                style="margin-top: 18px; display: none"
              >
                <h3
                  style="
                    margin: 0 0 12px 0;
                    font-size: 1.2rem;
                    font-weight: 700;
                  "
                >
                  Buat Pekerjaan Baru
                </h3>
                <p
                  style="
                    color: var(--text-sub);
                    font-size: 0.9rem;
                    margin-bottom: 12px;
                  "
                >
                  Sebagai talent, Anda dapat membuat pekerjaan yang akan
                  ditampilkan di halaman
                  <strong>Cari Pekerjaan</strong>
                </p>

                <button
                  id="toggleJobFormTalentBtn"
                  class="btn btn-primary"
                  style="
                    margin-top: 12px;
                    display: inline-flex;
                    align-items: center;
                    gap: 8px;
                  "
                  onclick="toggleJobFormTalent()"
                >
                  <i class="fas fa-plus"></i> Tambah Kerjaan
                </button>

                <!-- Form Tambah Kerjaan untuk Talent -->
                <div
                  id="jobFormContainerTalent"
                  style="
                    display: none;
                    margin-top: 16px;
                    padding: 20px;
                    background: #f8f9fa;
                    border-radius: 12px;
                    border: 2px solid #e5e7eb;
                  "
                >
                  <form
                    id="jobFormTalent"
                    onsubmit="handleJobSubmitTalent(event)"
                  >
                    <label
                      style="
                        font-weight: 600;
                        margin-bottom: 4px;
                        display: block;
                      "
                      >Judul Pekerjaan <span style="color: red">*</span></label
                    >
                    <input
                      type="text"
                      id="jobTitleTalent"
                      placeholder="Contoh: Desain Logo untuk Startup"
                      required
                      style="
                        width: 100%;
                        padding: 10px;
                        border: 1px solid #e5e7eb;
                        border-radius: 8px;
                        margin-bottom: 16px;
                      "
                    />

                    <label
                      style="
                        font-weight: 600;
                        margin-bottom: 4px;
                        display: block;
                      "
                      >Deskripsi <span style="color: red">*</span></label
                    >
                    <textarea
                      id="jobDescriptionTalent"
                      placeholder="Jelaskan detail pekerjaan..."
                      required
                      style="
                        width: 100%;
                        padding: 10px;
                        border: 1px solid #e5e7eb;
                        border-radius: 8px;
                        margin-bottom: 16px;
                        min-height: 100px;
                        resize: vertical;
                      "
                    ></textarea>

                    <label
                      style="
                        font-weight: 600;
                        margin-bottom: 4px;
                        display: block;
                      "
                      >Budget (Rp) <span style="color: red">*</span></label
                    >
                    <input
                      type="number"
                      id="jobBudgetTalent"
                      placeholder="Contoh: 5000000"
                      required
                      min="0"
                      style="
                        width: 100%;
                        padding: 10px;
                        border: 1px solid #e5e7eb;
                        border-radius: 8px;
                        margin-bottom: 16px;
                      "
                    />

                    <label
                      style="
                        font-weight: 600;
                        margin-bottom: 4px;
                        display: block;
                      "
                      >Deadline <span style="color: red">*</span></label
                    >
                    <input
                      type="date"
                      id="jobDeadlineTalent"
                      required
                      style="
                        width: 100%;
                        padding: 10px;
                        border: 1px solid #e5e7eb;
                        border-radius: 8px;
                        margin-bottom: 16px;
                      "
                    />

                    <label
                      style="
                        font-weight: 600;
                        margin-bottom: 4px;
                        display: block;
                      "
                      >Kategori <span style="color: red">*</span></label
                    >
                    <select
                      id="jobCategoryTalent"
                      required
                      style="
                        width: 100%;
                        padding: 10px;
                        border: 1px solid #e5e7eb;
                        border-radius: 8px;
                        margin-bottom: 16px;
                      "
                    >
                      <option value="">-- Pilih Kategori --</option>
                      <option value="Design">Design</option>
                      <option value="Development">Development</option>
                      <option value="Marketing">Marketing</option>
                      <option value="Writing">Writing</option>
                      <option value="Video">Video & Animation</option>
                      <option value="Music">Music & Audio</option>
                      <option value="Business">Business</option>
                      <option value="Data">Data</option>
                      <option value="Other">Lainnya</option>
                    </select>

                    <label
                      style="
                        font-weight: 600;
                        margin-bottom: 4px;
                        display: block;
                      "
                      >Level <span style="color: red">*</span></label
                    >
                    <select
                      id="jobLevelTalent"
                      required
                      style="
                        width: 100%;
                        padding: 10px;
                        border: 1px solid #e5e7eb;
                        border-radius: 8px;
                        margin-bottom: 16px;
                      "
                    >
                      <option value="">-- Pilih Level --</option>
                      <option value="Entry Level">Entry Level</option>
                      <option value="Intermediate">Intermediate</option>
                      <option value="Expert">Expert</option>
                    </select>

                    <label
                      style="
                        font-weight: 600;
                        margin-bottom: 4px;
                        display: block;
                      "
                      >Lokasi <span style="color: red">*</span></label
                    >
                    <input
                      type="text"
                      id="jobLocationTalent"
                      placeholder="Contoh: Jakarta, Indonesia atau Remote"
                      required
                      style="
                        width: 100%;
                        padding: 10px;
                        border: 1px solid #e5e7eb;
                        border-radius: 8px;
                        margin-bottom: 16px;
                      "
                    />

                    <label
                      style="
                        font-weight: 600;
                        margin-bottom: 4px;
                        display: block;
                      "
                      >Tipe Pekerjaan <span style="color: red">*</span></label
                    >
                    <select
                      id="jobTypeTalent"
                      required
                      style="
                        width: 100%;
                        padding: 10px;
                        border: 1px solid #e5e7eb;
                        border-radius: 8px;
                        margin-bottom: 16px;
                      "
                    >
                      <option value="">-- Pilih Tipe --</option>
                      <option value="Full Time">Full Time</option>
                      <option value="Part Time">Part Time</option>
                      <option value="Freelance">Freelance</option>
                      <option value="Contract">Contract</option>
                      <option value="Internship">Internship</option>
                    </select>

                    <div
                      style="display: flex; gap: 8px; justify-content: flex-end"
                    >
                      <button
                        type="button"
                        class="btn btn-outline"
                        onclick="toggleJobFormTalent()"
                        style="padding: 10px 20px"
                      >
                        <i class="fas fa-times"></i> Batal
                      </button>
                      <button
                        type="submit"
                        class="btn btn-primary"
                        style="padding: 10px 20px"
                      >
                        <i class="fas fa-check"></i> Simpan Pekerjaan
                      </button>
                    </div>
                  </form>
                </div>
              </div>

              <div style="margin-top: 18px">
                <h3
                  style="
                    margin: 0 0 12px 0;
                    font-size: 1.2rem;
                    font-weight: 700;
                  "
                >
                  Daftar Talent
                </h3>
                <div id="talentsList" class="list"></div>
                <form id="talentForm" style="margin-top: 8px">
                  <label for="talentName">Nama Talent / Keahlian</label>
                  <input
                    id="talentName"
                    type="text"
                    placeholder="Nama atau keahlian"
                  />
                  <label for="talentDesc">Deskripsi singkat</label>
                  <textarea
                    id="talentDesc"
                    rows="3"
                    placeholder="Deskripsi singkat"
                  ></textarea>
                  <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Simpan</button
                    ><button
                      id="cancelTalent"
                      type="button"
                      class="btn btn-outline"
                    >
                      Batal
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>

    <!-- Edit Profile Modal -->
    <div
      id="editModal"
      class="hidden"
      aria-hidden="true"
      style="
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1200;
      "
    >
      <div
        style="background: rgba(0, 0, 0, 0.45); position: absolute; inset: 0"
        id="editModalBackdrop"
      ></div>
      <div
        role="dialog"
        aria-modal="true"
        style="position: relative; max-width: 480px; width: 96%; z-index: 1300"
      >
        <div
          style="
            background: #fff;
            border-radius: 12px;
            padding: 18px;
            box-shadow: 0 20px 60px rgba(2, 6, 23, 0.4);
          "
        >
          <h3 style="margin: 0 0 10px 0">Edit Profil</h3>
          <form id="editProfileForm">
            <label for="editName">Nama lengkap</label>
            <input
              id="editName"
              type="text"
              placeholder="Nama lengkap"
              style="
                width: 100%;
                padding: 10px;
                border-radius: 8px;
                border: 1px solid #e6e9ee;
                margin-bottom: 8px;
              "
            />
            <label for="editRole">Peran</label>
            <select
              id="editRole"
              style="
                width: 100%;
                padding: 10px;
                border-radius: 8px;
                border: 1px solid #e6e9ee;
                margin-bottom: 8px;
              "
            >
              <option value="client">Client</option>
              <option value="talent">Talent</option>
              <option value="admin">Admin</option>
            </select>
            <div
              style="
                display: flex;
                gap: 8px;
                justify-content: flex-end;
                margin-top: 10px;
              "
            >
              <button type="button" id="cancelEdit" class="btn btn-outline">
                Batal
              </button>
              <button type="submit" class="btn btn-primary">
                Simpan perubahan
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
